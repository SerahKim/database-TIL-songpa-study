# 🗓️ 2025.05.26 (월) – 교육 일지

## 📚 오늘 배운 내용

### MYBATIS
- MyBatis 구현 방식
   
   | 구분     | XML 방식                  | Java 방식                     | Remix 방식              |
    | ------ | ----------------------- | --------------------------- | --------------------- |
    | SQL 위치 | 별도 XML 파일               | Java 인터페이스에 Annotation으로 작성 | XML에 작성 (Java에는 메서드만) |
    | 장점     | 유지보수 좋음, 복잡한 SQL 관리 용이  | 파일 수 적음, 간단한 SQL 빠르게 구현     | 구조 명확, 협업 및 유지보수 용이   |
    | 단점     | 파일 나뉘어 있음 → 구조 복잡할 수 있음 | 복잡한 SQL엔 부적합, 가독성 낮음        | 설정이 약간 번거로울 수 있음      |
    | 추천 상황  | 대규모 프로젝트, 복잡한 쿼리        | 소규모 프로젝트, 간단한 쿼리            | Spring 기반, 확장 가능한 구조  |
- dynamic query(동적 쿼리)
  - 동적 쿼리란?
    - 동적 쿼리란, 조건에 따라 SQL 구문이 동적으로 생성되는 기능으로, if, choose, where, trim 등의 제어 태그를 이용하여 다양한 조건에 따라 SQL을 유연하게 구성할 수 있게 해준다. 
    - 복잡한 조건이 많은 검색, 필터링, 페이징 쿼리 등에 매우 유용
  - 사용 목적 및 장점
    - 조건별로 다른 SQL 문장을 처리할 수 있어 코드 중복 제거 
    - 다수의 if-else 구문을 Java에서 처리하지 않아도 돼서 로직이 깔끔해짐.
    - XML 기반에서 SQL이 자동으로 조립되므로 유지보수 용이
  - 주요 태그 및 기능
     
     | 태그                                  | 설명                                    |
      | ----------------------------------- |---------------------------------------|
      | `<if>`                              | test 속성의 조건에 해당할 때만 SQL 구문을 포함시킴      |
      | `<choose>`, `<when>`, `<otherwise>` | java의 switch-case문처럼 동작               |
      | `<where>`                           | 조건절을 감싸고, 자동으로 `WHERE` 추가 (선행 AND/OR 제거) |
      | `<trim>`                            | 접두어, 접미어를 제어하고 불필요한 `AND/OR` 제거       |
      | `<foreach>`                         | 컬렉션 (List/Array 등)을 순회하며 SQL 구성 (IN절 등) |
      | `<set>`                             | UPDATE 문에서 필드들을 컴마(,)로 구분하고, 마지막 컴마 제거 |
    - < if > 태그
      ```
      <!-- 
      price로 받아온 value 값이 0보다 크고 10000보다 작으면
      WHERE절에 AND A.MENU_PRICE < #{ price } 구문 추가하는 dynamic sql
      -->
      <select id="selectMenuByPrice" parameterType="hashmap" resultMap="menuResultMap">
        SELECT
            A.MENU_CODE,
            A.MENU_NAME,
            A.MENU_PRICE,
            A.CATEGORY_CODE,
            A.ORDERABLE_STATUS
        FROM
            TBL_MENU A
        WHERE
            ORDERABLE_STATUS = 'Y'
        <if test = "price gte 0 and price lte 10000">
            <![CDATA[
                AND A.MENU_PRICE < #{ price }
            ]]>
        </if>
      </select>
      ```
      - gte : greater than or equals (이상, >=)
      - gt : greater than (초과, >)
      - lte : less than or equals (이하, <=)
      - lt : less than (미만, <)
      - CDATA
        - 의미 : Character Data (특수 문자를 문자열로 인식시킴)
        - 사용 이유 : <, >, & 같은 문자를 XML 파서가 혼동하지 않게 하기 위해
        


## 💻 실습 예시

### MYBATIS


## ✍️ 오늘의 회고
